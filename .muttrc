# Headers configuration
ignore *
unignore From To Reply-To Cc Bcc Subject Date Organization X-Label X-Mailer User-Agent X-GM-LABELS X-Gm-Labels X-Labels

# Gmail configuration
set from = "baptiste.wicht@gmail.com"
set realname = "Baptiste Wicht"

# IMAP Configuration
set imap_user = "baptiste.wicht@gmail.com"

# SMTP Connections
set smtp_url = "smtp://baptistewicht@smtp.gmail.com:587/"

# Get passwords
source .password.muttrc

# Gmail more configuration
set folder = "imaps://imap.gmail.com:993"
set spoolfile = "imaps://imap.gmail.com:993/INBOX"
set postponed = "imaps://imap.gmail.com:993/[Gmail]/Drafts"
set trash = "imaps://imap.gmail.com:993/[Gmail]/Trash"

# Set charset
set send_charset="utf-8"

# Colors
source .colors.muttrc

# Faster mail checking
set timeout = 15
set mail_check = 60

# Beeps on new messages
set beep_new

# Start vim with correct options
set editor='vim + -c "set textwidth=72" -c "set wrap" -c "set spell spelllang=en"'

# Display labels
set index_format = "%4C %Z %{%b %d} %-15.15L %?M?(#%03M)&(%4l)? %?y?{%.20Y} ?%s"

# Cache folders
set header_cache =~/.mutt/cache/headers
set message_cachedir =~/.mutt/cache/bodies

# Store certificates
set certificate_file =~/.mutt/certificates

# Add folders to mailboxes
set imap_check_subscribed = yes

# Always display pager in top of the mails
set pager_index_lines=8

# Always display sidebar
set sidebar_visible = yes
set sidebar_width = 35

# Mark folders with unread mails in yellow
color sidebar_new yellow default

# Better bindings for the sidebar
bind index,pager \Ck sidebar-prev
bind index,pager \Cj sidebar-next
bind index,pager \Cl sidebar-open

# Vim-like opening of messages
bind index l display-message

# Vim-like exiting
bind pager,attach h exit

# Easier movement inside mails
bind pager J next-line
bind pager K previous-line

# Edit MIME types
bind attach e edit-type

# Faster folder switch
set sleep_time = 0

# Auto view HTML messages
alternative_order text/plain text/html *
auto_view text/html

# Configure connections for IMAP
set imap_keepalive = 900

# Don't move read messages to another mbox
set move = no

# Don't record sent messages, GMail does that already
set copy = no

# Don't ask before appending to an existing mailbox
set confirmappend = no

# Discussions view
set sort = 'threads'
set sort_aux = 'reverse-last-date-received'

# GMail like view
macro index,pager ut <tag-thread><limit>~T<enter><tag-thread> "show only current thread"
macro index,pager ua <limit>all<enter> "show everything"

# Reload macro
macro index "#" '<sync-mailbox><change-folder>^<enter>' "Sync mailbox".

# Simple macro to limit view to a label
macro index Cy " ~y " "Limit view to label"

# Alias auto generation
set display_filter = ~/.mutt/autoalias
source ~/.aliases.muttrc
set alias_file=~/.aliasees.muttrc
