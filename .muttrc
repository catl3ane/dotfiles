# Headers configuration
ignore *
unignore From To Reply-To Cc Bcc Subject Date Organization X-Label X-Mailer User-Agent

# Gmail configuration
set from = "baptiste.wicht@gmail.com"
set realname = "Baptiste Wicht"

# SMTP Connections
set smtp_url = "smtp://baptistewicht@smtp.gmail.com:587/"

# Get passwords
source ~/.password.muttrc

# Colors
source ~/.colors.muttrc

# Keybindings
source ~/.bindings.muttrc

# Get the mail from offlineimap
set folder = /data/oi/

# Configure the mailboxes
set spoolfile = "+Gmail/INBOX"
set postponed = "+Gmail/drafts"

# Get the list of mailboxes generated by offlineimap
source ~/.mutt/mailboxes

# GPG

source ~/.gpg.rc

set pgp_ignore_subkeys = no
set pgp_use_gpg_agent = yes
set pgp_sign_as = 0xC5566B6C7F884532
set pgp_timeout = 3600
set crypt_autosign = yes
set crypt_replyencrypt = yes

# Configure Notmuch
set nm_default_uri = "notmuch:///data/oi/Gmail"
#set virtual_spoolfile = yes
virtual-mailboxes   "UNREAD" "notmuch://?query=tag:unread and not folder:spam and not folder:trash"   \
                    "ML" "notmuch://?query=folder:ML"

# Set charset
set send_charset="utf-8"

# Faster mail checking
set timeout = 15
set mail_check = 60

# Beeps on new messages
set beep_new

# Start vim with correct options
set editor='vim + -c "set textwidth=72" -c "set wrap" -c "set spell spelllang=en"'

# Display notmuch tags
set index_format = "%4C %Z %{%b %d} %-15.15L %?M?(#%03M)&(%4l)? %?y?{%.20y}? %?g?{%.20g} ?%s (%c)"

# Display labels
#set index_format = "%4C %Z %{%b %d} %-15.15L %?M?(#%03M)&(%4l)? %?y?{%.20y} ?%s"

# Cache folders
set header_cache =~/.mutt/cache/headers
set message_cachedir =~/.mutt/cache/bodies

# Store certificates
set certificate_file =~/.mutt/certificates

# Always display pager in top of the mails
set pager_index_lines=8

# Always display sidebar
set sidebar_visible = yes
set sidebar_width = 35
set sort_sidebar = desc

# Mark folders with unread mails in yellow
color sidebar_new yellow default

# Status Bar
set status_chars  = " *%A"
set status_format = "───[ Folder: %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───%>─%?p?( %p postponed )?───"

# Faster folder switch
set sleep_time = 0

# Treat mail as plain when possible
alternative_order text/plain text/html

# Automatically open html messages
auto_view text/html

# Don't move read messages to another mbox
set move = no

# Don't record sent messages, GMail does that already
set copy = no

# Don't ask before appending to an existing mailbox
set confirmappend = no

# Discussions view
set sort = 'threads'
set sort_aux = 'reverse-last-date-received'

# Don't ask for stuff when replying
set include=yes
set fast_reply

# Nice Word Wrapping
set smart_wrap

# Configure mailcap
set mailcap_path = ~/.mailcap

# Alias auto generation and configuration
set display_filter = ~/.mutt/autoalias
source ~/.aliases.muttrc
set alias_file=~/.aliases.muttrc
